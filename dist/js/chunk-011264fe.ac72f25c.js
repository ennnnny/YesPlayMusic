(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-011264fe"],{"04f0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"album"},[a("div",{staticClass:"playlist-info"},[a("Cover",{attrs:{url:t._f("resizeImage")(t.album.picUrl,1024),showPlayButton:!0,alwaysShowShadow:!0,clickToPlay:!0,size:288,type:"album",id:t.album.id}}),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.album.name)+" ")]),a("div",{staticClass:"artist"},[a("span",[t._v(t._s(t._f("formatAlbumType")(t.album.type,t.album))+" by ")]),a("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name))])],1),a("div",{staticClass:"date-and-count"},[1056768===t.album.mark?a("span",{staticClass:"explicit-symbol"},[a("ExplicitSymbol")],1):t._e(),a("span",{attrs:{title:t._f("formatDate")(t.album.publishTime)}},[t._v(t._s(new Date(t.album.publishTime).getFullYear()))]),a("span",[t._v(" · "+t._s(t.album.size)+" "+t._s(t.$t("common.songs")))]),t._v(", "+t._s(t._f("formatTime")(t.albumTime,"Human"))+" ")]),a("div",{staticClass:"description",on:{click:function(e){t.showFullDescription=!0}}},[t._v(" "+t._s(t.album.description)+" ")]),a("div",{staticClass:"buttons",staticStyle:{"margin-top":"32px"}},[a("ButtonTwoTone",{attrs:{iconClass:"play"},nativeOn:{click:function(e){return t.playAlbumByID(t.album.id)}}},[t._v(" "+t._s(t.$t("play"))+" ")]),t.accountLogin?a("ButtonTwoTone",{attrs:{shape:"round",iconClass:t.dynamicDetail.isSub?"heart-solid":"heart",iconButton:!0,horizontalPadding:0},nativeOn:{click:function(e){return t.likeAlbum(e)}}}):t._e()],1)])],1),a("TrackList",{attrs:{tracks:t.tracks,type:"album",id:t.album.id}}),a("div",{staticClass:"extra-info"},[a("div",{staticClass:"album-time"}),a("div",{staticClass:"release-date"},[t._v(" "+t._s(t.$t("album.released"))+" "+t._s(t._f("formatDate")(t.album.publishTime,"MMMM D, YYYY"))+" ")]),null!==t.album.company?a("div",{staticClass:"copyright"},[t._v(" © "+t._s(t.album.company)+" ")]):t._e()]),0!==t.filteredMoreAlbums.length?a("div",{staticClass:"more-by"},[a("div",{staticClass:"section-title"},[t._v(" More by "),a("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name)+" ")])],1),a("div",[a("CoverRow",{attrs:{type:"album",items:t.filteredMoreAlbums,subText:"albumType+releaseYear",showPlayButton:!0}})],1)]):t._e(),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFullDescription,expression:"showFullDescription"}],staticClass:"shade",on:{click:function(e){t.showFullDescription=!1}}},[a("div",{staticClass:"description-full",on:{click:function(t){t.stopPropagation()}}},[a("span",[t._v(t._s(t.album.description))]),a("span",{staticClass:"close",on:{click:function(e){t.showFullDescription=!1}}},[t._v(" "+t._s(t.$t("modal.close"))+" ")])])])])],1)},s=[],n=(a("99af"),a("4de4"),a("7db0"),a("a15b"),a("d81d"),a("fb6a"),a("2909")),o=a("5530"),r=a("2f62"),c=a("512b"),l=a("fefb"),u=a("eb6f"),d=a("e498"),p=a("323e"),f=a.n(p),b=a("5f87"),m=a("0c94"),y=a("5e45"),h=a("a1a1"),v=a("2726"),w=a("3020"),g={name:"Album",components:{Cover:w["a"],ButtonTwoTone:y["a"],TrackList:h["a"],ExplicitSymbol:m["a"],CoverRow:v["a"]},data:function(){return{album:{id:0,picUrl:"",artist:{id:0}},tracks:[],showFullDescription:!1,show:!1,moreAlbums:[],dynamicDetail:{}}},created:function(){this.loadData(this.$route.params.id)},computed:Object(o["a"])(Object(o["a"])({},Object(r["d"])(["player","data"])),{},{albumTime:function(){var t=0;return this.tracks.map((function(e){return t+=e.dt})),t},accountLogin:function(){return Object(b["b"])()},filteredMoreAlbums:function(){var t=this,e=this.moreAlbums.filter((function(e){return e.id!==t.album.id})),a=e.filter((function(t){return"专辑"===t.type})),i=e.filter((function(t){return"EP"===t.type||"EP/Single"===t.type&&t.size>1})),s=e.filter((function(t){return void 0===a.find((function(e){return e.id===t.id}))&&void 0===i.find((function(e){return e.id===t.id}))}));return[].concat(Object(n["a"])(a),Object(n["a"])(i),Object(n["a"])(s)).slice(0,5)}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["c"])(["appendTrackToPlayerList"])),Object(r["b"])(["playFirstTrackOnList","playTrackOnListByID"])),{},{playAlbumByID:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first";void 0!==this.tracks.find((function(t){return!1!==t.playable}))&&Object(u["c"])(t,e)},likeAlbum:function(){var t=this;Object(d["c"])({id:this.album.id,t:this.dynamicDetail.isSub?0:1}).then((function(e){200===e.code&&(t.dynamicDetail.isSub=!t.dynamicDetail.isSub)}))},loadData:function(t){var e=this;Object(d["b"])(t).then((function(t){e.album=t.album,e.tracks=t.songs,f.a.done(),e.show=!0;var a=e.tracks.map((function(t){return t.id}));Object(l["c"])(a.join(",")).then((function(t){e.tracks=t.songs})),Object(c["d"])({id:e.album.artist.id,limit:100}).then((function(t){e.moreAlbums=t.hotAlbums}))})),Object(d["a"])(t).then((function(t){e.dynamicDetail=t}))}}),beforeRouteUpdate:function(t,e,a){f.a.start(),this.loadData(t.params.id),a()}},_=g,S=(a("d7c6"),a("2877")),x=Object(S["a"])(_,i,s,!1,null,"3e81150b",null);e["default"]=x.exports},"1bea":function(t,e,a){"use strict";var i=a("7283"),s=a.n(i);s.a},2726:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover-row"},t._l(t.items,(function(e){return a("div",{key:e.id,staticClass:"item",class:{artist:"artist"===t.type},style:{marginBottom:"none"===t.subText?"32px":"24px"}},[a("Cover",{staticClass:"cover",attrs:{id:e.id,type:"chart"===t.type?"playlist":t.type,url:t._f("resizeImage")(t.getUrl(e),t.imageSize),hoverEffect:!0,showBlackShadow:!0,showPlayButton:t.showPlayButton,radius:"artist"===t.type?100:12,size:"artist"===t.type?192:208}}),a("div",{staticClass:"text"},[t.showPlayCount?a("div",{staticClass:"info"},[a("span",{staticClass:"play-count"},[a("svg-icon",{attrs:{"icon-class":"play"}}),t._v(t._s(t._f("formatPlayCount")(e.playCount))+" ")],1)]):t._e(),a("div",{staticClass:"name"},["album"===t.type&&1056768===e.mark?a("span",{staticClass:"explicit-symbol"},[a("ExplicitSymbol")],1):t._e(),"playlist"===t.type&&10===e.privacy?a("span",{staticClass:"lock-icon"},[a("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),a("router-link",{attrs:{to:"/"+("chart"===t.type?"playlist":t.type)+"/"+e.id}},[t._v(t._s(e.name))])],1),"artist"!==t.type&&"none"!==t.subText?a("div",{staticClass:"info"},[a("span",{domProps:{innerHTML:t._s(t.getSubText(e))}})]):t._e()])],1)})),0)},s=[],n=(a("a4d3"),a("e01a"),a("99af"),a("b0c0"),a("a9e3"),a("0c94")),o=a("3020"),r={name:"CoverRow",components:{Cover:o["a"],ExplicitSymbol:n["a"]},props:{items:Array,type:String,subText:{type:String,default:"none"},imageSize:{type:Number,default:512},showPlayButton:{type:Boolean,default:!1},showPlayCount:{type:Boolean,default:!1}},methods:{getUrl:function(t){return void 0!==t.picUrl?t.picUrl:void 0!==t.coverImgUrl?t.coverImgUrl:void 0!==t.img1v1Url?t.img1v1Url:void 0},getSubText:function(t){if("copywriter"===this.subText)return t.copywriter;if("description"===this.subText)return t.description;if("updateFrequency"===this.subText)return t.updateFrequency;if("creator"===this.subText)return"by "+t.creator.nickname;if("releaseYear"===this.subText)return new Date(t.publishTime).getFullYear();if("artist"===this.subText){if(void 0!==t.artist)return'<a href="/#/artist/'.concat(t.artist.id,'">').concat(t.artist.name,"</a>");if(void 0!==t.artists)return'<a href="/#/artist/'.concat(t.artists[0].id,'">').concat(t.artists[0].name,"</a>")}if("albumType+releaseYear"===this.subText){var e=t.type;return"EP/Single"===t.type?e=1===t.size?"Single":"EP":"Single"===t.type?e="Single":"专辑"===t.type&&(e="Album"),"".concat(e," · ").concat(new Date(t.publishTime).getFullYear())}return"appleMusic"===this.subText?"by Apple Music":void 0}}},c=r,l=(a("1bea"),a("2877")),u=Object(l["a"])(c,i,s,!1,null,"ce9630ce",null);e["a"]=u.exports},2909:function(t,e,a){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function s(t){if(Array.isArray(t))return i(t)}a.d(e,"a",(function(){return c}));a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}a("fb6a"),a("b0c0"),a("25f0");function o(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return s(t)||n(t)||o(t)||r()}},3020:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("transition",{attrs:{name:"zoom"}},[a("div",{staticClass:"cover",class:{"hover-float":t.hoverEffect,"hover-play-button":t.showPlayButton},style:t.coverStyle,on:{mouseover:function(e){t.focus=!0},mouseleave:function(e){t.focus=!1},click:function(e){t.clickToPlay?t.play():t.goTo()}}},[t.showPlayButton?a("button",{staticClass:"play-button",style:t.playButtonStyle,on:{click:function(e){return e.stopPropagation(),t.playButtonClicked(e)}}},[a("svg-icon",{attrs:{"icon-class":"play"}})],1):t._e()])]),t.hoverEffect?a("transition",{attrs:{name:"fade"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}})]):t._e(),t.alwaysShowShadow?a("img",{staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}}):t._e()],1)},s=[],n=(a("a9e3"),a("eb6f")),o={name:"Cover",props:{id:Number,type:String,url:String,hoverEffect:Boolean,showPlayButton:Boolean,alwaysShowShadow:Boolean,showBlackShadow:Boolean,clickToPlay:Boolean,size:{type:Number,default:208},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12},playButtonSize:{type:Number,default:48}},data:function(){return{focus:!1,shadowStyle:{},playButtonStyle:{}}},created:function(){this.shadowStyle={height:"".concat(this.size,"px"),width:"".concat(~~(.96*this.size),"px"),top:"".concat(this.shadowMargin,"px"),right:"".concat(~~(.02*this.size),"px"),borderRadius:"".concat(this.radius,"px")},this.playButtonStyle={height:"".concat(this.playButtonSize,"px"),width:"".concat(this.playButtonSize,"px")}},computed:{coverStyle:function(){return{backgroundImage:"url('".concat(this.url,"')"),boxShadow:this.showBlackShadow?"0 12px 16px -8px rgba(0, 0, 0, 0.2)":"",height:"".concat(this.size,"px"),width:"".concat(this.size,"px"),borderRadius:"".concat(this.radius,"px"),cursor:this.clickToPlay?"default":"pointer"}}},methods:{play:function(){"album"===this.type?Object(n["c"])(this.id):"playlist"===this.type&&Object(n["e"])(this.id)},playButtonClicked:function(){"album"===this.type?Object(n["c"])(this.id):"playlist"===this.type?Object(n["e"])(this.id):"artist"===this.type&&Object(n["d"])(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}},r=o,c=(a("b51d"),a("2877")),l=Object(c["a"])(r,i,s,!1,null,"683e5a40",null);e["a"]=l.exports},4370:function(t,e,a){},"4df4":function(t,e,a){"use strict";var i=a("0366"),s=a("7b0b"),n=a("9bdd"),o=a("e95a"),r=a("50c4"),c=a("8418"),l=a("35a1");t.exports=function(t){var e,a,u,d,p,f,b=s(t),m="function"==typeof this?this:Array,y=arguments.length,h=y>1?arguments[1]:void 0,v=void 0!==h,w=l(b),g=0;if(v&&(h=i(h,y>2?arguments[2]:void 0,2)),void 0==w||m==Array&&o(w))for(e=r(b.length),a=new m(e);e>g;g++)f=v?h(b[g],g):b[g],c(a,g,f);else for(d=w.call(b),p=d.next,a=new m;!(u=p.call(d)).done;g++)f=v?n(d,h,[u.value,g],!0):u.value,c(a,g,f);return a.length=g,a}},"5e45":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:t.color,style:t.buttonStyle},[null!==t.iconClass?a("svg-icon",{style:{marginRight:t.iconButton?"0px":"8px"},attrs:{iconClass:t.iconClass}}):t._e(),t._t("default")],2)},s=[],n=(a("a9e3"),{name:"ButtonTwoTone",props:{iconClass:{type:String,default:null},iconButton:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:16},color:{type:String,default:"blue"},shape:{type:String,default:"square"}},computed:{buttonStyle:function(){return{borderRadius:"round"===this.shape?"50%":"8px",padding:"8px ".concat(this.horizontalPadding,"px"),width:"round"===this.shape?"38px":"auto"}}}}),o=n,r=(a("e9ab"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"3053b41d",null);e["a"]=c.exports},7283:function(t,e,a){},"9a0d":function(t,e,a){},a630:function(t,e,a){var i=a("23e7"),s=a("4df4"),n=a("1c7e"),o=!n((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:o},{from:s})},b51d:function(t,e,a){"use strict";var i=a("f065"),s=a.n(i);s.a},d28b:function(t,e,a){var i=a("746f");i("iterator")},d7c6:function(t,e,a){"use strict";var i=a("4370"),s=a.n(i);s.a},e01a:function(t,e,a){"use strict";var i=a("23e7"),s=a("83ab"),n=a("da84"),o=a("5135"),r=a("861d"),c=a("9bf2").f,l=a("e893"),u=n.Symbol;if(s&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(p,u);var f=p.prototype=u.prototype;f.constructor=p;var b=f.toString,m="Symbol(test)"==String(u("test")),y=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=b.call(t);if(o(d,t))return"";var a=m?e.slice(7,-1):e.replace(y,"$1");return""===a?void 0:a}}),i({global:!0,forced:!0},{Symbol:p})}},e9ab:function(t,e,a){"use strict";var i=a("9a0d"),s=a.n(i);s.a},f065:function(t,e,a){}}]);
//# sourceMappingURL=chunk-011264fe.ac72f25c.js.map