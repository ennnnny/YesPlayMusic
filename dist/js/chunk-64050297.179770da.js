(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64050297"],{"0b6c":function(t,a,e){"use strict";var i=e("eb93"),s=e.n(i);s.a},2909:function(t,a,e){"use strict";function i(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=new Array(a);e<a;e++)i[e]=t[e];return i}function s(t){if(Array.isArray(t))return i(t)}e.d(a,"a",(function(){return l}));e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("d3b7"),e("3ca3"),e("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}e("fb6a"),e("b0c0"),e("25f0");function n(t,a){if(t){if("string"===typeof t)return i(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,a):void 0}}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return s(t)||o(t)||n(t)||r()}},3020:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{position:"relative"}},[e("transition",{attrs:{name:"zoom"}},[e("div",{staticClass:"cover",class:{"hover-float":t.hoverEffect,"hover-play-button":t.showPlayButton},style:t.coverStyle,on:{mouseover:function(a){t.focus=!0},mouseleave:function(a){t.focus=!1},click:function(a){t.clickToPlay?t.play():t.goTo()}}},[t.showPlayButton?e("button",{staticClass:"play-button",style:t.playButtonStyle,on:{click:function(a){return a.stopPropagation(),t.playButtonClicked(a)}}},[e("svg-icon",{attrs:{"icon-class":"play"}})],1):t._e()])]),t.hoverEffect?e("transition",{attrs:{name:"fade"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}})]):t._e(),t.alwaysShowShadow?e("img",{staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}}):t._e()],1)},s=[],o=(e("a9e3"),e("eb6f")),n={name:"Cover",props:{id:Number,type:String,url:String,hoverEffect:Boolean,showPlayButton:Boolean,alwaysShowShadow:Boolean,showBlackShadow:Boolean,clickToPlay:Boolean,size:{type:Number,default:208},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12},playButtonSize:{type:Number,default:48}},data:function(){return{focus:!1,shadowStyle:{},playButtonStyle:{}}},created:function(){this.shadowStyle={height:"".concat(this.size,"px"),width:"".concat(~~(.96*this.size),"px"),top:"".concat(this.shadowMargin,"px"),right:"".concat(~~(.02*this.size),"px"),borderRadius:"".concat(this.radius,"px")},this.playButtonStyle={height:"".concat(this.playButtonSize,"px"),width:"".concat(this.playButtonSize,"px")}},computed:{coverStyle:function(){return{backgroundImage:"url('".concat(this.url,"')"),boxShadow:this.showBlackShadow?"0 12px 16px -8px rgba(0, 0, 0, 0.2)":"",height:"".concat(this.size,"px"),width:"".concat(this.size,"px"),borderRadius:"".concat(this.radius,"px"),cursor:this.clickToPlay?"default":"pointer"}}},methods:{play:function(){"album"===this.type?Object(o["c"])(this.id):"playlist"===this.type&&Object(o["e"])(this.id)},playButtonClicked:function(){"album"===this.type?Object(o["c"])(this.id):"playlist"===this.type?Object(o["e"])(this.id):"artist"===this.type&&Object(o["d"])(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}},r=n,l=(e("b51d"),e("2877")),c=Object(l["a"])(r,i,s,!1,null,"683e5a40",null);a["a"]=c.exports},"4df4":function(t,a,e){"use strict";var i=e("0366"),s=e("7b0b"),o=e("9bdd"),n=e("e95a"),r=e("50c4"),l=e("8418"),c=e("35a1");t.exports=function(t){var a,e,u,d,p,h,f=s(t),y="function"==typeof this?this:Array,b=arguments.length,v=b>1?arguments[1]:void 0,g=void 0!==v,m=c(f),w=0;if(g&&(v=i(v,b>2?arguments[2]:void 0,2)),void 0==m||y==Array&&n(m))for(a=r(f.length),e=new y(a);a>w;w++)h=g?v(f[w],w):f[w],l(e,w,h);else for(d=m.call(f),p=d.next,e=new y;!(u=p.call(d)).done;w++)h=g?o(d,v,[u.value,w],!0):u.value,l(e,w,h);return e.length=w,e}},"5e45":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{class:t.color,style:t.buttonStyle},[null!==t.iconClass?e("svg-icon",{style:{marginRight:t.iconButton?"0px":"8px"},attrs:{iconClass:t.iconClass}}):t._e(),t._t("default")],2)},s=[],o=(e("a9e3"),{name:"ButtonTwoTone",props:{iconClass:{type:String,default:null},iconButton:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:16},color:{type:String,default:"blue"},shape:{type:String,default:"square"}},computed:{buttonStyle:function(){return{borderRadius:"round"===this.shape?"50%":"8px",padding:"8px ".concat(this.horizontalPadding,"px"),width:"round"===this.shape?"38px":"auto"}}}}),n=o,r=(e("e9ab"),e("2877")),l=Object(r["a"])(n,i,s,!1,null,"3053b41d",null);a["a"]=l.exports},"8b00":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t.isLikeSongsPage?e("div",{staticClass:"user-info"},[e("h1",[e("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl)}}),t._v(t._s(t.data.user.nickname)+t._s(t.$t("library.sLikedSongs"))+" ")])]):e("div",{staticClass:"playlist-info"},[e("Cover",{attrs:{url:t._f("resizeImage")(t.playlist.coverImgUrl,1024),showPlayButton:!0,alwaysShowShadow:!0,clickToPlay:!0,size:288}}),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),e("div",{staticClass:"artist"},[t._v(" Playlist by "),[5277771961,5277965913,5277969451,5277778542,5278068783].includes(t.playlist.id)?e("span",{staticStyle:{"font-weight":"600"}},[t._v("Apple Music")]):e("a",{attrs:{href:"https://music.163.com/#/user/home?id="+t.playlist.creator.userId,target:"blank"}},[t._v(t._s(t.playlist.creator.nickname))])]),e("div",{staticClass:"date-and-count"},[t._v(" "+t._s(t.$t("playlist.updatedAt"))+" "+t._s(t._f("formatDate")(t.playlist.updateTime))+" Â· "+t._s(t.playlist.trackCount)+" "+t._s(t.$t("common.songs"))+" ")]),e("div",{staticClass:"description",on:{click:function(a){t.showFullDescription=!0}}},[t._v(" "+t._s(t.playlist.description)+" ")]),e("div",{staticClass:"buttons"},[e("ButtonTwoTone",{attrs:{iconClass:"play"},nativeOn:{click:function(a){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("play"))+" ")]),t.accountLogin&&t.playlist.creator.userId!==t.data.user.userId?e("ButtonTwoTone",{attrs:{shape:"round",iconClass:t.playlist.subscribed?"heart-solid":"heart",iconButton:!0,horizontalPadding:0},nativeOn:{click:function(a){return t.likePlaylist(a)}}}):t._e()],1)])],1),e("TrackList",{attrs:{tracks:t.tracks,type:"playlist",id:t.playlist.id}}),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showFullDescription,expression:"showFullDescription"}],staticClass:"shade",on:{click:function(a){t.showFullDescription=!1}}},[e("div",{staticClass:"description-full",on:{click:function(t){t.stopPropagation()}}},[e("span",[t._v(t._s(t.playlist.description))]),e("span",{staticClass:"close",on:{click:function(a){t.showFullDescription=!1}}},[t._v(" "+t._s(t.$t("modal.close"))+" ")])])])])],1)},s=[],o=(e("4de4"),e("a15b"),e("d81d"),e("b0c0"),e("2909")),n=e("5530"),r=e("2f62"),l=e("323e"),c=e.n(l),u=e("1e9a"),d=e("eb6f"),p=e("fefb"),h=e("5f87"),f=e("5e45"),y=e("a1a1"),b=e("3020"),v={name:"Playlist",components:{Cover:b["a"],ButtonTwoTone:f["a"],TrackList:y["a"]},data:function(){return{show:!1,playlist:{coverImgUrl:"",creator:{userId:""},trackIds:[]},showFullDescription:!1,tracks:[],loadingMore:!1,lastLoadedTrackIndex:9}},created:function(){"likedSongs"===this.$route.name?this.loadData(this.data.user.likedSongPlaylistID):this.loadData(this.$route.params.id)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll,!0)},computed:Object(n["a"])(Object(n["a"])({},Object(r["d"])(["player","data"])),{},{isLikeSongsPage:function(){return"likedSongs"===this.$route.name},accountLogin:function(){return Object(h["b"])()}}),methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(r["c"])(["appendTrackToPlayerList"])),Object(r["b"])(["playFirstTrackOnList","playTrackOnListByID"])),{},{playPlaylistByID:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",a=this.playlist.trackIds.map((function(t){return t.id}));Object(d["b"])(a,this.playlist.id,"playlist",t)},likePlaylist:function(){var t=this;Object(u["d"])({id:this.playlist.id,t:this.playlist.subscribed?2:1}).then((function(a){200===a.code&&(t.playlist.subscribed=!t.playlist.subscribed),Object(u["a"])(t.id,!0).then((function(a){t.playlist=a.playlist}))}))},loadData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.id=t,Object(u["a"])(this.id,!0).then((function(t){return a.playlist=t.playlist,a.tracks=t.playlist.tracks,c.a.done(),void 0!==e&&e(),a.show=!0,a.lastLoadedTrackIndex=t.playlist.tracks.length-1,a.playlist.trackCount>a.tracks.length&&window.addEventListener("scroll",a.handleScroll,!0),t})).then((function(){a.playlist.trackCount>a.tracks.length&&(a.loadingMore=!0,a.loadMore())}))},loadMore:function(){var t=this,a=this.playlist.trackIds.filter((function(a,e){if(e>t.lastLoadedTrackIndex&&e<=t.lastLoadedTrackIndex+50)return a}));a=a.map((function(t){return t.id})),Object(p["c"])(a.join(",")).then((function(e){var i;(i=t.tracks).push.apply(i,Object(o["a"])(e.songs)),t.lastLoadedTrackIndex+=a.length,t.loadingMore=!1}))},handleScroll:function(t){var a=document.querySelector("html"),e=Math.max(a.scrollHeight,a.scrollHeight),i=t.target.scrollingElement.scrollTop,s=a.innerHeight||Math.min(a.clientHeight,a.clientHeight);if(s+i+200>=e){if(this.lastLoadedTrackIndex+1===this.playlist.trackIds.length||this.loadingMore)return;this.loadingMore=!0,this.loadMore()}}})},g=v,m=(e("0b6c"),e("2877")),w=Object(m["a"])(g,i,s,!1,null,"3ebbd25a",null);a["default"]=w.exports},"9a0d":function(t,a,e){},a630:function(t,a,e){var i=e("23e7"),s=e("4df4"),o=e("1c7e"),n=!o((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:n},{from:s})},b51d:function(t,a,e){"use strict";var i=e("f065"),s=e.n(i);s.a},d28b:function(t,a,e){var i=e("746f");i("iterator")},e01a:function(t,a,e){"use strict";var i=e("23e7"),s=e("83ab"),o=e("da84"),n=e("5135"),r=e("861d"),l=e("9bf2").f,c=e("e893"),u=o.Symbol;if(s&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),a=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[a]=!0),a};c(p,u);var h=p.prototype=u.prototype;h.constructor=p;var f=h.toString,y="Symbol(test)"==String(u("test")),b=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,a=f.call(t);if(n(d,t))return"";var e=y?a.slice(7,-1):a.replace(b,"$1");return""===e?void 0:e}}),i({global:!0,forced:!0},{Symbol:p})}},e9ab:function(t,a,e){"use strict";var i=e("9a0d"),s=e.n(i);s.a},eb93:function(t,a,e){},f065:function(t,a,e){}}]);
//# sourceMappingURL=chunk-64050297.179770da.js.map