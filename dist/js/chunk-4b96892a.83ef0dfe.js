(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b96892a"],{3020:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticStyle:{position:"relative"}},[a("transition",{attrs:{name:"zoom"}},[a("div",{staticClass:"cover",class:{"hover-float":t.hoverEffect,"hover-play-button":t.showPlayButton},style:t.coverStyle,on:{mouseover:function(s){t.focus=!0},mouseleave:function(s){t.focus=!1},click:function(s){t.clickToPlay?t.play():t.goTo()}}},[t.showPlayButton?a("button",{staticClass:"play-button",style:t.playButtonStyle,on:{click:function(s){return s.stopPropagation(),t.playButtonClicked(s)}}},[a("svg-icon",{attrs:{"icon-class":"play"}})],1):t._e()])]),t.hoverEffect?a("transition",{attrs:{name:"fade"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}})]):t._e(),t.alwaysShowShadow?a("img",{staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}}):t._e()],1)},i=[],r=(a("a9e3"),a("eb6f")),o={name:"Cover",props:{id:Number,type:String,url:String,hoverEffect:Boolean,showPlayButton:Boolean,alwaysShowShadow:Boolean,showBlackShadow:Boolean,clickToPlay:Boolean,size:{type:Number,default:208},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12},playButtonSize:{type:Number,default:48}},data:function(){return{focus:!1,shadowStyle:{},playButtonStyle:{}}},created:function(){this.shadowStyle={height:"".concat(this.size,"px"),width:"".concat(this.size,"px"),top:"".concat(this.shadowMargin,"px"),borderRadius:"".concat(this.radius,"px")},this.playButtonStyle={height:"".concat(this.playButtonSize,"px"),width:"".concat(this.playButtonSize,"px")}},computed:{coverStyle:function(){return{backgroundImage:"url('".concat(this.url,"')"),boxShadow:this.showBlackShadow?"0 12px 16px -8px rgba(0, 0, 0, 0.2)":"",height:"".concat(this.size,"px"),width:"".concat(this.size,"px"),borderRadius:"".concat(this.radius,"px"),cursor:this.clickToPlay?"default":"pointer"}}},methods:{play:function(){"album"===this.type?Object(r["c"])(this.id):"playlist"===this.type&&Object(r["e"])(this.id)},playButtonClicked:function(){"album"===this.type?Object(r["c"])(this.id):"playlist"===this.type?Object(r["e"])(this.id):"artist"===this.type&&Object(r["d"])(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}},n=o,c=(a("b487"),a("2877")),l=Object(c["a"])(n,e,i,!1,null,"b66fa8a4",null);s["a"]=l.exports},"4e22":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search"},[a("h1",[a("span",[t._v(t._s(t.$t("search.searchFor")))]),t._v(' "'+t._s(t.keywords)+'" ')]),t.isExistResult?a("div",{staticClass:"result"},[a("div",{staticClass:"row"},[t.result.hasOwnProperty("artist")?a("div",{staticClass:"artists"},[a("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.artist")))]),a("div",{staticClass:"artists-list"},t._l(t.result.artist.artists.slice(0,3),(function(s){return a("div",{key:s.id,staticClass:"artist"},[a("Cover",{attrs:{url:t._f("resizeImage")(s.img1v1Url),showBlackShadow:!0,hoverEffect:!0,showPlayButton:!0,type:"artist",id:s.id,size:128,playButtonSize:36,shadowMargin:8,radius:100}}),a("div",{staticClass:"name"},[a("router-link",{attrs:{to:"/artist/"+s.id}},[t._v(t._s(s.name))])],1)],1)})),0)]):t._e(),t.result.hasOwnProperty("album")?a("div",{staticClass:"albums"},[a("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.album")))]),a("div",{staticClass:"albums-list"},t._l(t.result.album.albums.slice(0,4),(function(s){return a("div",{key:s.id,staticClass:"album"},[a("div",[a("Cover",{attrs:{url:t._f("resizeImage")(s.picUrl),showBlackShadow:!0,hoverEffect:!0,showPlayButton:!0,type:"album",id:s.id,size:128,playButtonSize:36,shadowMargin:8,radius:8}})],1),a("div",{staticClass:"name"},[a("router-link",{attrs:{to:"/album/"+s.id}},[t._v(t._s(s.name))])],1),a("div",{staticClass:"artist"},[a("router-link",{attrs:{to:"/artist/"+s.artist.id}},[t._v(t._s(s.artist.name))])],1)])})),0)]):t._e()]),t.result.hasOwnProperty("song")?a("div",{staticClass:"tracks"},[a("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.song")))]),a("TrackList",{attrs:{tracks:t.tracks,type:"tracklist"}})],1):t._e(),null!==t.mvs&&t.mvs.length>0?a("div",{staticClass:"mvs"},[a("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.mv")))]),a("MvRow",{staticClass:"mv-row",attrs:{mvs:t.mvs.slice(0,5)}})],1):t._e(),t.result.hasOwnProperty("playList")?a("div",{staticClass:"playlists"},[a("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.playlist")))]),a("div",{staticClass:"albums-list"},t._l(t.result.playList.playLists.slice(0,12),(function(s){return a("div",{key:s.id,staticClass:"album"},[a("div",[a("Cover",{attrs:{url:t._f("resizeImage")(s.coverImgUrl),showBlackShadow:!0,hoverEffect:!0,showPlayButton:!0,type:"playlist",id:s.id,size:128,playButtonSize:36,shadowMargin:8,radius:8}})],1),a("div",{staticClass:"name"},[a("router-link",{attrs:{to:"/playlist/"+s.id}},[t._v(t._s(s.name))])],1)])})),0)]):t._e()]):a("div",{staticClass:"no-results"},[t._v(" "+t._s(t.$t("search.noResult"))+" ")])])},i=[],r=(a("7db0"),a("fb6a"),a("b64b"),a("5530")),o=a("2f62"),n=a("323e"),c=a.n(n),l=a("eb6f"),u=a("dad3"),d=a("3020"),h=a("a1a1"),v=a("d4e3"),p={name:"Search",components:{Cover:d["a"],TrackList:h["a"],MvRow:v["a"]},data:function(){return{show:!1,result:{},mvs:[],type:1,limit:30,offset:0}},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])(["search"])),{},{keywords:function(){return this.$route.query.keywords},tracks:function(){var t=this.result.song.songs.slice(0,12);return t},isExistResult:function(){return Object.keys(this.result).length}}),methods:{goToAlbum:function(t){this.$router.push({name:"album",params:{id:t}})},playTrackInSearchResult:function(t){var s=this.tracks.find((function(s){return s.id===t}));Object(l["a"])(s,!0)},getData:function(t){var s=this;Object(u["a"])({keywords:t,type:1018}).then((function(t){s.result=t.result,c.a.done(),s.show=!0})),Object(u["a"])({keywords:t,type:1004}).then((function(t){s.mvs=t.result.mvs}))}},created:function(){this.getData(this.$route.query.keywords)},beforeRouteUpdate:function(t,s,a){this.show=!1,a(),c.a.start(),this.getData(t.query.keywords)}},f=p,y=(a("e25a"),a("2877")),m=Object(y["a"])(f,e,i,!1,null,"2fe860f4",null);s["default"]=m.exports},"9fd5":function(t,s,a){},b487:function(t,s,a){"use strict";var e=a("cc89"),i=a.n(e);i.a},c601:function(t,s,a){},c8cc:function(t,s,a){"use strict";var e=a("c601"),i=a.n(e);i.a},cc89:function(t,s,a){},d4e3:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mv-row"},t._l(t.mvs,(function(s){return a("div",{key:s.id,staticClass:"mv"},[a("div",{staticClass:"cover-container"},[a("img",{staticClass:"cover",attrs:{src:t.getUrl(s)},on:{mouseover:function(a){t.hoverVideoID=s.id},mouseleave:function(s){t.hoverVideoID=0},click:function(a){return t.goToMv(s.id)}}}),a("transition",{attrs:{name:"fade"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.hoverVideoID===s.id,expression:"hoverVideoID === mv.id"}],staticClass:"shadow",attrs:{src:t.getUrl(s)}})])],1),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("router-link",{attrs:{to:"/mv/"+s.id}},[t._v(t._s(s.name))])],1),a("div",{staticClass:"artist"},["artist"===t.subtitle?a("router-link",{attrs:{to:"/artist/"+s.artistId}},[t._v(t._s(s.artistName))]):t._e(),"publishTime"===t.subtitle?a("span",[t._v(t._s(s.publishTime))]):t._e()],1)])])})),0)},i=[],r={name:"CoverVideo",props:{mvs:Array,subtitle:{type:String,default:"artist"}},data:function(){return{hoverVideoID:0}},methods:{goToMv:function(t){var s={};void 0!==this.$parent.player&&(s={autoplay:this.$parent.player.playing}),this.$router.push({path:"/mv/"+t,query:s})},getUrl:function(t){return void 0!==t.cover?t.cover:void 0!==t.imgurl16v9?t.imgurl16v9:void 0!==t.coverUrl?t.coverUrl:void 0}}},o=r,n=(a("c8cc"),a("2877")),c=Object(n["a"])(o,e,i,!1,null,"e1627b9e",null);s["a"]=c.exports},dad3:function(t,s,a){"use strict";a.d(s,"a",(function(){return r}));var e=a("b775"),i=a("cf45");function r(t){return Object(e["a"])({url:"/search",method:"get",params:t}).then((function(t){return void 0!==t.result.song&&(t.result.song.songs=Object(i["a"])(t.result.song.songs)),t}))}},e25a:function(t,s,a){"use strict";var e=a("9fd5"),i=a.n(e);i.a}}]);
//# sourceMappingURL=chunk-4b96892a.83ef0dfe.js.map