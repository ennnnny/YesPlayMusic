(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36660d18"],{"0bbe":function(t,i,e){"use strict";var n=e("5fe3"),s=e.n(n);s.a},"0c94":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("svg-icon",{style:t.svgStyle,attrs:{"icon-class":"explicit"}})},s=[],a=(e("a9e3"),e("0032")),r={name:"ExplicitSymbol",components:{SvgIcon:a["a"]},props:{size:{type:Number,default:16}},data:function(){return{svgStyle:{}}},created:function(){this.svgStyle={height:this.size+"px",width:this.size+"px"}}},c=r,u=e("2877"),o=Object(u["a"])(c,n,s,!1,null,"7e2a888e",null);i["a"]=o.exports},"1e9a":function(t,i,e){"use strict";e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return r})),e.d(i,"b",(function(){return c})),e.d(i,"e",(function(){return u})),e.d(i,"f",(function(){return o})),e.d(i,"d",(function(){return l}));var n=e("b775"),s=e("cf45");function a(t){return Object(n["a"])({url:"/personalized",method:"get",params:t})}function r(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e={id:t};return i&&(e.timestamp=(new Date).getTime()),Object(n["a"])({url:"/playlist/detail",method:"get",params:e}).then((function(t){return t.playlist.tracks=Object(s["c"])(t.playlist.tracks),t}))}function c(t){return Object(n["a"])({url:"/top/playlist/highquality",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/top/playlist",method:"get",params:t})}function o(){return Object(n["a"])({url:"/toplist/detail",method:"get"})}function l(t){return Object(n["a"])({url:"/playlist/subscribe",method:"get",params:t})}},2426:function(t,i,e){},"3f85":function(t,i,e){"use strict";var n=e("2426"),s=e.n(n);s.a},"512b":function(t,i,e){"use strict";e.d(i,"c",(function(){return a})),e.d(i,"d",(function(){return r})),e.d(i,"e",(function(){return c})),e.d(i,"a",(function(){return u})),e.d(i,"b",(function(){return o}));var n=e("b775"),s=e("cf45");function a(t){return Object(n["a"])({url:"/artists",method:"get",params:{id:t,timestamp:(new Date).getTime()}}).then((function(t){return t.hotSongs=Object(s["c"])(t.hotSongs),t}))}function r(t){return Object(n["a"])({url:"/artist/album",method:"get",params:t})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(n["a"])({url:"/toplist/artist",method:"get",params:{type:t}})}function u(t){return Object(n["a"])({url:"/artist/mv",method:"get",params:{id:t}})}function o(t){return Object(n["a"])({url:"/artist/sub",method:"post",params:t})}},5899:function(t,i){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,i,e){var n=e("1d80"),s=e("5899"),a="["+s+"]",r=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),u=function(t){return function(i){var e=String(n(i));return 1&t&&(e=e.replace(r,"")),2&t&&(e=e.replace(c,"")),e}};t.exports={start:u(1),end:u(2),trim:u(3)}},"5fe3":function(t,i,e){},a1a1:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"track-list",style:t.listStyles},[e("ContextMenu",{ref:"menu"},[e("div",{staticClass:"item",on:{click:t.play}},[t._v("Play")]),e("div",{staticClass:"item",on:{click:t.playNext}},[t._v("Play Next")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isRightClickedTrackLiked&&t.accountLogin,expression:"!isRightClickedTrackLiked && accountLogin"}],staticClass:"item",on:{click:t.like}},[t._v(" Save to my Liked Songs ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isRightClickedTrackLiked&&t.accountLogin,expression:"isRightClickedTrackLiked && accountLogin"}],staticClass:"item",on:{click:t.like}},[t._v(" Remove from my Liked Songs ")])]),t._l(t.tracks,(function(i){return e("TrackListItem",{key:i.id,attrs:{track:i},nativeOn:{dblclick:function(e){return t.playThisList(i.id)},contextmenu:function(e){return t.openMenu(e,i)}}})}))],2)},s=[],a=(e("4de4"),e("caad"),e("d81d"),e("a9e3"),e("2532"),e("5530")),r=e("2f62"),c=e("fefb"),u=e("eb6f"),o=e("5f87"),l=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"track",class:t.trackClass,style:t.trackStyle,attrs:{title:t.track.reason},on:{mouseover:function(i){t.focus=!0},mouseleave:function(i){t.focus=!1}}},[t.isAlbum?t._e():e("img",{class:{hover:t.focus},attrs:{src:t._f("resizeImage")(t.imgUrl,224)},on:{click:t.goToAlbum}}),t.isAlbum?e("div",{staticClass:"no"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.focus&&t.track.playable&&!t.isPlaying,expression:"focus && track.playable && !isPlaying"}],on:{click:t.playTrack}},[e("svg-icon",{staticStyle:{height:"14px",width:"14px"},attrs:{"icon-class":"play"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:(!t.focus||!t.track.playable)&&!t.isPlaying,expression:"(!focus || !track.playable) && !isPlaying"}]},[t._v(t._s(t.track.no))]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}]},[e("svg-icon",{staticStyle:{height:"16px",width:"16px"},attrs:{"icon-class":"volume"}})],1)]):t._e(),e("div",{staticClass:"title-and-artist"},[e("div",{staticClass:"container"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.track.name)+" "),t.isAlbum&&t.track.ar.length>1?e("span",{staticClass:"featured"},[t._v(" - "),e("ArtistsInLine",{attrs:{artists:t.track.ar,showFirstArtist:!1}})],1):t._e(),t.isAlbum&&1318912===t.track.mark?e("span",{staticClass:"explicit-symbol"},[e("ExplicitSymbol")],1):t._e()]),t.isAlbum?t._e():e("div",{staticClass:"artist"},[1318912===t.track.mark?e("span",{staticClass:"explicit-symbol before-artist"},[e("ExplicitSymbol",{attrs:{size:15}})],1):t._e(),e("ArtistsInLine",{attrs:{artists:t.artists}})],1)]),e("div")]),t.isTracklist||t.isAlbum?t._e():e("div",{staticClass:"album"},[e("router-link",{attrs:{to:"/album/"+t.track.al.id}},[t._v(t._s(t.track.al.name))]),e("div")],1),t.isTracklist?t._e():e("div",{staticClass:"actions"},[t.accountLogin?e("button",{on:{click:t.likeThisSong}},[e("svg-icon",{style:{visibility:t.focus&&!t.isLiked&&t.track.playable?"visible":"hidden"},attrs:{"icon-class":"heart"}}),e("svg-icon",{directives:[{name:"show",rawName:"v-show",value:t.isLiked,expression:"isLiked"}],attrs:{"icon-class":"heart-solid"}})],1):t._e()]),t.isTracklist?t._e():e("div",{staticClass:"time"},[t._v(" "+t._s(t._f("formatTime")(t.track.dt))+" ")])])},d=[],f=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("span",{staticClass:"artist-in-line"},t._l(t.slicedArtists,(function(i,n){return e("span",{key:i.id},[e("router-link",{attrs:{to:"/artist/"+i.id}},[t._v(t._s(i.name))]),n!==t.slicedArtists.length-1?e("span",[t._v(", ")]):t._e()],1)})),0)},h=[],p=(e("fb6a"),{name:"ArtistInLine",props:{artists:{type:Array,required:!0},showFirstArtist:{type:Boolean,default:!0}},computed:{slicedArtists:function(){return this.showFirstArtist?this.artists:this.artists.slice(1,this.artists.length)}}}),m=p,k=e("2877"),b=Object(k["a"])(m,f,h,!1,null,"f2bd61ce",null),v=b.exports,y=e("0c94"),g={name:"TrackListItem",components:{ArtistsInLine:v,ExplicitSymbol:y["a"]},props:{track:Object},data:function(){return{focus:!1,trackStyle:{}}},computed:{imgUrl:function(){return void 0!==this.track.al?this.track.al.picUrl:void 0!==this.track.album?this.track.album.picUrl:""},artists:function(){return void 0!==this.track.ar?this.track.ar:void 0!==this.track.artists?this.track.artists:[]},type:function(){return this.$parent.type},isAlbum:function(){return"album"===this.type},isTracklist:function(){return"tracklist"===this.type},isPlaylist:function(){return"playlist"===this.type},isLiked:function(){return this.$parent.liked.songs.includes(this.track.id)},isPlaying:function(){return this.$store.state.player.currentTrack.id===this.track.id},trackClass:function(){var t=[this.type];return this.track.playable||t.push("disable"),this.isPlaying&&t.push("playing"),t},accountLogin:function(){return Object(o["b"])()}},methods:{goToAlbum:function(){this.$router.push({path:"/album/"+this.track.al.id})},playTrack:function(){this.$parent.playThisList(this.track.id)},likeThisSong:function(){this.$parent.likeASong(this.track.id)}},created:function(){-1!==this.$parent.itemWidth&&(this.trackStyle={width:this.$parent.itemWidth+"px"})}},T=g,O=(e("3f85"),Object(k["a"])(T,l,d,!1,null,"2a5f57a3",null)),_=O.exports,x=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"context-menu"},[t.showMenu?e("div",{ref:"menu",staticClass:"menu",style:{top:t.top,left:t.left},attrs:{tabindex:"-1"},on:{blur:t.closeMenu,click:t.closeMenu}},[t._t("default")],2):t._e()])},w=[],L={name:"ContextMenu",data:function(){return{showMenu:!1,top:"0px",left:"0px"}},methods:{setMenu:function(t,i){var e=window.innerHeight-this.$refs.menu.offsetHeight-25,n=window.innerWidth-this.$refs.menu.offsetWidth-25;t>e&&(t=e),i>n&&(i=n),this.top=t+"px",this.left=i+"px"},closeMenu:function(){this.showMenu=!1},openMenu:function(t){this.showMenu=!0,this.$nextTick(function(){this.$refs.menu.focus(),this.setMenu(t.y,t.x)}.bind(this)),t.preventDefault()}}},j=L,C=(e("0bbe"),Object(k["a"])(j,x,w,!1,null,"724bc728",null)),S=C.exports,A={name:"TrackList",components:{TrackListItem:_,ContextMenu:S},props:{tracks:Array,type:String,id:Number,itemWidth:{type:Number,default:-1},dbclickTrackFunc:{type:String,default:"default"}},data:function(){return{rightClickedTrack:null,listStyles:{}}},created:function(){"tracklist"===this.type&&(this.listStyles={display:"flex",flexWrap:"wrap"})},computed:Object(a["a"])(Object(a["a"])({},Object(r["d"])(["liked"])),{},{isRightClickedTrackLiked:function(){var t;return this.liked.songs.includes(null===(t=this.rightClickedTrack)||void 0===t?void 0:t.id)},accountLogin:function(){return Object(o["b"])()}}),methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["c"])(["updateLikedSongs"])),Object(r["b"])(["nextTrack","playTrackOnListByID"])),{},{openMenu:function(t,i){i.playable&&(this.rightClickedTrack=i,this.$refs.menu.openMenu(t))},playThisList:function(t){"default"===this.dbclickTrackFunc?this.playThisListDefault(t):"none"===this.dbclickTrackFunc||("playTrackOnListByID"===this.dbclickTrackFunc?this.playTrackOnListByID(t):"playPlaylistByID"===this.dbclickTrackFunc&&Object(u["e"])(this.id,t))},playThisListDefault:function(t){if("playlist"===this.type)Object(u["e"])(this.id,t);else if("album"===this.type)Object(u["c"])(this.id,t);else if("tracklist"===this.type){var i=this.tracks.map((function(t){return t.id}));Object(u["b"])(i,this.tracks[0].ar[0].id,"artist",t)}},play:function(){Object(u["a"])(this.clickTrack.id,!0)},playNext:function(){Object(u["a"])(this.clickTrack.id)},like:function(){this.likeASong(this.rightClickedTrack.id)},likeASong:function(t){var i=this,e=!0,n=this.liked.songs;n.includes(t)&&(e=!1),Object(c["d"])({id:t,like:e}).then((function(s){200===s.code&&(!1===e?i.updateLikedSongs(n.filter((function(i){return i!==t}))):(n.push(t),i.updateLikedSongs(n)))}))}})},I=A,N=Object(k["a"])(I,n,s,!1,null,"55f91c68",null);i["a"]=N.exports},a9e3:function(t,i,e){"use strict";var n=e("83ab"),s=e("da84"),a=e("94ca"),r=e("6eeb"),c=e("5135"),u=e("c6b6"),o=e("7156"),l=e("c04e"),d=e("d039"),f=e("7c73"),h=e("241c").f,p=e("06cf").f,m=e("9bf2").f,k=e("58a8").trim,b="Number",v=s[b],y=v.prototype,g=u(f(y))==b,T=function(t){var i,e,n,s,a,r,c,u,o=l(t,!1);if("string"==typeof o&&o.length>2)if(o=k(o),i=o.charCodeAt(0),43===i||45===i){if(e=o.charCodeAt(2),88===e||120===e)return NaN}else if(48===i){switch(o.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+o}for(a=o.slice(2),r=a.length,c=0;c<r;c++)if(u=a.charCodeAt(c),u<48||u>s)return NaN;return parseInt(a,n)}return+o};if(a(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var O,_=function(t){var i=arguments.length<1?0:t,e=this;return e instanceof _&&(g?d((function(){y.valueOf.call(e)})):u(e)!=b)?o(new v(T(i)),e,_):T(i)},x=n?h(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)c(v,O=x[w])&&!c(_,O)&&m(_,O,p(v,O));_.prototype=y,y.constructor=_,r(s,b,_)}},e498:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"d",(function(){return r})),e.d(i,"a",(function(){return c})),e.d(i,"c",(function(){return u}));var n=e("b775"),s=e("cf45");function a(t){return Object(n["a"])({url:"/album",method:"get",params:{id:t}}).then((function(t){return t.songs=Object(s["c"])(t.songs),t}))}function r(t){return Object(n["a"])({url:"/album/new",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/album/detail/dynamic",method:"get",params:{id:t,timestamp:(new Date).getTime()}})}function u(t){return Object(n["a"])({url:"/album/sub",method:"post",params:t})}},eb6f:function(t,i,e){"use strict";e.d(i,"b",(function(){return c})),e.d(i,"c",(function(){return u})),e.d(i,"e",(function(){return o})),e.d(i,"d",(function(){return l})),e.d(i,"a",(function(){return d}));e("d81d");var n=e("4360"),s=e("e498"),a=e("1e9a"),r=e("512b");function c(t,i,e){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"first",a=t.map((function(t,i){return{sort:i,id:t}}));n["a"].commit("updatePlayerList",a),n["a"].state.player.shuffle&&n["a"].commit("shuffleTheListBeforePlay"),"first"===s?n["a"].dispatch("playFirstTrackOnList"):n["a"].dispatch("playTrackOnListByID",s),n["a"].commit("updateListInfo",{type:e,id:i})}function u(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first";Object(s["b"])(t).then((function(e){var n=e.songs.map((function(t){return t.id}));c(n,t,"album",i)}))}function o(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first",e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a["a"])(t,e).then((function(e){var n=e.playlist.trackIds.map((function(t){return t.id}));c(n,t,"playlist",i)}))}function l(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first";Object(r["c"])(t).then((function(e){c(e.hotSongs,t,"artist",i)}))}function d(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e={sort:0,id:t};n["a"].commit("appendTrackToPlayerList",{track:e,playNext:i}),i&&n["a"].dispatch("nextTrack",!0)}}}]);
//# sourceMappingURL=chunk-36660d18.96ed2467.js.map